<?php ini_set('display_errors',0);require_once(__DIR__."/getID3-master/getid3/getid3.php");const CSS_URL="css\style.min.css";$getID3=new getID3;$getID3->encoding="UTF-8";$fileName="";$nowPlaying="";$arratWithSongsInfo=[];$ThisFileInfo=[];$arrayForCheck=[];$countedFiles=1;if($handle=opendir('music/')){while(false!==($fileName=readdir($handle))){if($fileName!="."&&$fileName!=".."){$ThisFileInfo=$getID3->analyze("music/".$fileName);array_push($arratWithSongsInfo,$ThisFileInfo);$countedFiles++;}}array_unshift($arratWithSongsInfo,0);}for($i=0;$i<$countedFiles;$i++){array_push($arrayForCheck,$i);}$i=1;while($i<$countedFiles){if($_POST["text"]==$arrayForCheck[$i]){$nowPlaying=$arratWithSongsInfo[$i]["filename"];}$i++;} ?><!doctypehtml><html lang="en"><head><meta charset="UTF-8"><meta content="IE=edge"http-equiv="X-UA-Compatible"><meta content="width=device-width,initial-scale=1"name="viewport"><title>Songs</title><link href="<?=CSS_URL?>"rel="stylesheet"><link href="img\svg\headphones-ico.svg"rel="icon"type="image/svg+xml"></head><body><figure><figcaption>Now playing:<?=$nowPlaying?></figcaption><audio controls preload="metadata"src="music\<?=$nowPlaying?>"></audio></figure><table class="music_table"><tr class="music_head"><td class="music_center">play</td><td class="music_center">id</td><td>name</td><td class="music_center">duration</td></tr><?php for($i=1;$i<$countedFiles;$i++): ?><tr><td class="music_center"><form action="index.php"method="post"><input name="text"type="submit"value="<?=$i?>"></form></td><td class="music_center"><?=$i?></td><td><?=$arratWithSongsInfo[$i]["filename"]?></td><td class="music_center"><?=$arratWithSongsInfo[$i]["playtime_string"]?></td></tr><?php endfor; ?></table></body></html>